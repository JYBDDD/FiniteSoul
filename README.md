# FiniteSoul
장르
시스템 개요 및 상세설명

1. 장르 : 로그라이트 (엘든링)

	- 시작 시 캐릭터 직업 설정 할 수 있도록 할 것
	- 무작위 배치
	- 특정 저장 오브젝트를 이용하지 않을 시 위치값 초기화
	- 게임 오버 될 시에도 유지되는 능력치 존재
	- 저장을 하더라도 사망시 저장이 유지되지 않는 값 존재
	- 씬 이동 (비동기)

2. 디자인 패턴

	- 싱글톤
	- 실행 시 필수적으로 존재하여야 하는 Manager 클래스는 T타입 싱글톤으로 주어 데이터를 이용가능하도록 
		(DontDestroyOnLoad) 로 파괴 불가능하도록 할 것

3. 데이터 설정 및 변경 :
	
	- ExcelToJsonConverter2 를 사용하여 데이터를 설정,변경할 것임
	- 플레이어 데이터 저장, 불러오기는 Json데이터를 생성하여 값을 적용할것(없다면 저장하지 않았거나, 첫시작일시)
	- GameManager에서 가지고 있을 데이터 (플레이어 데이터, 몬스터 데이터)
	- MovableObject(이동 가능 객체) 자식으로 플레이어,몬스터,보스몬스터 값 설정할 것
	- 몇몇 객체들은 파괴 가능하도록 인터페이스를 작성하여 파괴가능한지 체크 할것

4. 구현할 UI 및 데이터 : 
	
	4.1 이동가능한 데이터
	- 플레이어 데이터
	- 몬스터 데이터
	- 보스 몬스터 데이터

	4.2 이동 불가능한 데이터
	- 인터페이스 (파괴 가능한지, 불가능한지)

	4.3 UI
	- 인벤토리
	- 상점
	- 스탯창
	- 소비아이템 사용시(사용 쿨타임)
	- 체력, 스테미너
	- 비동기 씬 로드 (시간이 오래 걸리지 않을 것이기 때문에 3초정도 딜레이를 줄것임)

-----------------------------------------------------------------------------------------------------------------------
진행 사항

0. 작업 시작 (대략적인 기획)
22.03.14

1. 플레이어 모델 애니메이션 수정(Paladin, Archer)
	-> (Paladin)검, 방패 / (Archer) 활, 화살 프리팹 삽입함 -> 그에 맞게 애니메이션 조정
	
22.03.15
	
2. 데이터 설정 (Excel, Json)
	-> 플러그인 ExcelToJsonConvert2Debug 로 엑셀 파일을 Json 파일로 변환
	-> ResourceUtil 에 데이터 삽입 및 변환시키는 InsertDataSetting 메소드 작성, GameManager.Awake() 시 실행되도록
	-> MoveableObject 및 PlayerController등 스텟 삽입에 필요한 데이터 추가 작성
	-> 데이터를 로드하는 방법은 모든데이터가 저장되어 있는 FullData 에서 Linq 의 Where 로 값을 하나씩 찾아 resourcePath로 생성 후,
		 생성된 오브젝트에 데이터를 넣어주는 방식
	
	 /참고사항/
   	 // jsonUtility는 배열일 시 못가져옴,
   	 // Litjson은 값을 따로따로 찾는 것이기때문에 값을 넣을 수는 있지만, 한꺼번에 넣기가 번거로움
   	 // 그리하여 NewtonSoft.json 을 사용했음 (변환부 : GameManager)
	 
22.03.16 ~ 22.03.17

3. 플레이어 애니메이션 삽입 및 스크립트 생성
	-> 생성시 캐릭터 움직임 작동확인 목적 작성 (NormalAttack 까지만 구현 , Archer 는 미구현)

22.03.21 ~ 22.03.22

4. 로드씬 및 시작씬 설정
	-> StartSceneAdjust 스크립트를 최상위 Canvas 에 넣어 시작씬 관리
	-> 추가 버튼 이벤트 바인딩 및 버튼,타이틀,배경 자리 셋팅(코루틴)
	-> ResourceUtil 에 ( 이어하기가 가능한지 확인하는 기능, 데이터찾기 기능 ) 추가
	-> PlayerVolatilityData (플레이어 휘발성 데이터) 추가	<데이터 로드시 사용할 데이터>
	
22.03.23 ~ 22.03.24

4. 맵 제작(Terrain)
	-> Terrain으로 제작
	-> 플레이어 회전부분 에러 수정
	
22.03.25

5. 씬전환시 데이터 설정 및 추가 설정, 몬스터 데이터 설정, InGameManager 설정
	-> FadeIn() 기능 추가
	-> FadeIn() 이후 해당 씬에 플레이어 생성 및 데이터 설정
	-> 몬스터데이터 추가, InGameManager 작성
	
22.03.28 ~ 

---------------------------------------------------------------------------------------------------------------------
수정해야할 사항

1. 할 것    TODO


	4.4. 만들 것
		-> StageManager.MonsterSpawn() 에 ScriptableObject로 몬스터 생성위치들을 담아서 생성할 예정임
			-> 1001 씬가서 생성할 위치 적당히 찾아서 ScriptableObject 에 값 넣어주기
		-> 몬스터 컨트롤러 작성중
			-> 몬스터 공통 애니메이션 작성중
			- 참고 https://ansohxxn.github.io/unity%20lesson%203/ch7-3/
			-> 몬스터의 타깃은 플레이어이므로 InGameManager 먼저 만들고 실행하는것이 나을수 있음
			
			
		-> 몬스터 생성	-> FullData.MonsterData 에서 ResourcePath 로 데이터 넣어주기
		
		-> 워프(위치)  
			-> PlayerData 에 임시로 포탈 이동시 전에 있었던 스테이지의 Vec값을 받아놓은 후 이동시 사용하도록
		-> AttackController 생성
			-> 어느부분에 위치시킬것인지 미정..
			-> 공격하는 객체의 능력치를 받아 , 닿은 객체의 능력치 차감
			


	4.5. 재사용 가능하도록 하는 인터페이스 만들기
		-> 해당 인터페이스를 들고 있다면 재사용 가능(풀링 가능)

	4.6. 워프 기능 만들기
		-> 스크립트, 어떻게 워프시킬지 등
		
	4.7. 풀링 구현하기
		-> 만들다 만거 있음

-----------------------------------------------------------------------------------------------------------------------------------------------

2. 애니메이션 블랜딩

★ 데이터 설정 후, 아바타 마스크를 이용하여 애니메이션을 블랜딩 시킬것임
참조 - https://www.youtube.com/watch?v=BStXjU-mJvk


스테이트 머신은 일단 PlayerController 에 만 있음 나중에 MonsterController에도 넣어줘야함
	-> 모든 플레이어 공통 애니메이션은 PlayerController에 작성하고, 다른 부분만 하위 자식에게 작성하는 방식으로 할것

팔라딘 블랜드 트리(이렇게 만들 것임)
	1. Walk Tree
		NormalAttack까지구현 후 다른거 먼저 하는중
		
아처 블랜드 트리
	1. 해당 블랜드 트리는 Aniamtor override Controller 를 사용하여 구현하려고 생각중..

----------------------------------------------------------------------------------------------------------------------------
3. 몬스터
	2.1 Animator override Controller 사용할것
	- 참고 : https://bbangdeveloper.tistory.com/entry/Animation-Animator-Override-Controller

-----------------------------------------------------------------------------------------------

	

